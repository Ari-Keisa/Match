<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Інтерактивний торт</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            text-align: center;
            background-color: #f0f8ff;
            padding: 20px;
        }

        .container {
            margin-bottom: 20px;
        }

        button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 12px 24px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 10px 5px;
            cursor: pointer;
            border-radius: 8px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #45a049;
        }

        #cake-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto;
        }

        #cake {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .piece {
            position: absolute;
            width: 100%;
            height: 100%;
            clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 100%, 50% 100%);
            background-color: #ffb347;
            border: 2px solid #e68a00;
            border-radius: 50%;
            transform-origin: center;
            cursor: pointer;
            transition: opacity 0.5s;
        }

        .piece.eaten {
            opacity: 0.3;
        }

        #fraction-display {
            font-size: 24px;
            margin: 15px 0;
            color: #333;
        }

        #cut-controls {
            margin-top: 20px;
        }

        .cut-btn {
            background-color: #008CBA;
            margin: 5px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Смачний інтерактивний торт!</h1>
    
    <div class="container">
        <button id="cut-myself-btn">Я сам поріжу!</button>
        <button id="show-me-btn">Покажіть мені!</button>
    </div>

    <!-- Режим "Я сам поріжу!" -->
    <div id="cut-myself-container" class="hidden">
        <div id="cake-container">
            <div id="cake">
                <!-- Частинки торта будуть додані через JavaScript -->
            </div>
        </div>
        <div id="fraction-display">Залишилось: 12/12 (100%)</div>
    </div>

    <!-- Режим "Покажіть мені!" -->
    <div id="show-me-container" class="hidden">
        <div id="cake-container-2">
            <div id="cake-2">
                <!-- Торт для другого режиму -->
            </div>
        </div>
        <div id="fraction-display-2">Залишилось: 12/12 (100%)</div>
        <div id="cut-controls">
            <p>Розрізати торт на:</p>
            <button class="cut-btn" data-pieces="2">2 частини</button>
            <button class="cut-btn" data-pieces="3">3 частини</button>
            <button class="cut-btn" data-pieces="4">4 частини</button>
            <button class="cut-btn" data-pieces="6">6 частин</button>
            <button class="cut-btn" data-pieces="8">8 частин</button>
            <button class="cut-btn" data-pieces="10">10 частин</button>
            <button class="cut-btn" data-pieces="12">12 частин</button>
        </div>
    </div>

    <script>
        // Элементы DOM
        const cutMyselfBtn = document.getElementById('cut-myself-btn');
        const showMeBtn = document.getElementById('show-me-btn');
        const cutMyselfContainer = document.getElementById('cut-myself-container');
        const showMeContainer = document.getElementById('show-me-container');
        const cake = document.getElementById('cake');
        const cake2 = document.getElementById('cake-2');
        const fractionDisplay = document.getElementById('fraction-display');
        const fractionDisplay2 = document.getElementById('fraction-display-2');
        const cutButtons = document.querySelectorAll('.cut-btn');

        // Переменные состояния
        let totalPieces = 12;
        let eatenPieces = 0;
        let currentPieces = 12;

        // Инициализация
        createCakePieces(cake, 12);
        createCakePieces(cake2, 12);

        // Обработчики кнопок режимов
        cutMyselfBtn.addEventListener('click', function() {
            cutMyselfContainer.classList.remove('hidden');
            showMeContainer.classList.add('hidden');
            resetCake();
        });

        showMeBtn.addEventListener('click', function() {
            showMeContainer.classList.remove('hidden');
            cutMyselfContainer.classList.add('hidden');
            resetCake();
        });

        // Обработчики кнопок разрезания
        cutButtons.forEach(button => {
            button.addEventListener('click', function() {
                const pieces = parseInt(this.getAttribute('data-pieces'));
                cutCake(pieces);
            });
        });

        // Функции
        function createCakePieces(container, pieces) {
            container.innerHTML = '';
            for (let i = 0; i < pieces; i++) {
                const piece = document.createElement('div');
                piece.className = 'piece';
                piece.style.transform = `rotate(${i * (360 / pieces)}deg)`;
                piece.addEventListener('click', function() {
                    if (!this.classList.contains('eaten')) {
                        this.classList.add('eaten');
                        eatenPieces++;
                        updateFractionDisplay();
                    }
                });
                container.appendChild(piece);
            }
        }

        function cutCake(pieces) {
            createCakePieces(cake2, pieces);
            currentPieces = pieces;
            eatenPieces = 0;
            updateFractionDisplay();
        }

        function updateFractionDisplay() {
            const remaining = currentPieces - eatenPieces;
            const percentage = Math.round((remaining / currentPieces) * 100);
            fractionDisplay.textContent = `Залишилось: ${remaining}/${currentPieces} (${percentage}%)`;
            fractionDisplay2.textContent = `Залишилось: ${remaining}/${currentPieces} (${percentage}%)`;
        }

        function resetCake() {
            // Сброс для первого режима
            const pieces = cake.querySelectorAll('.piece');
            pieces.forEach(piece => {
                piece.classList.remove('eaten');
            });
            
            // Сброс для второго режима
            const pieces2 = cake2.querySelectorAll('.piece');
            pieces2.forEach(piece => {
                piece.classList.remove('eaten');
            });
            
            eatenPieces = 0;
            currentPieces = 12;
            updateFractionDisplay();
        }
    </script>
</body>
</html>
